"use strict";(self["webpackChunkvuejs_spa"]=self["webpackChunkvuejs_spa"]||[]).push([[672],{306:function(s,e,t){t.d(e,{Z:function(){return p}});var n=t(3396),l=t(7139);const o={class:"carousel"};function i(s,e,t,i,r,a){return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",{class:"carousel-content scroll-hidden",ref:"carousel",onScroll:e[0]||(e[0]=(...s)=>this.scroll&&this.scroll(...s))},[(0,n.WI)(s.$slots,"content",{},void 0,!0)],544),(0,n._)("button",{class:"button button-default button-round button-medium bi bi-arrow-left-circle-fill",ref:"leftScrollButton",style:(0,l.j5)({left:this.leftVisible?"10px":"-40px"}),onClick:e[1]||(e[1]=s=>a.shift(-1))},null,4),(0,n._)("button",{class:"button button-default button-round button-medium bi bi-arrow-right-circle-fill",ref:"rightScrollButton",style:(0,l.j5)({right:this.rightVisible?"10px":"-40px"}),onClick:e[2]||(e[2]=s=>a.shift(1))},null,4)])}var r=t(5834),a={name:"carousel",components:{playlistContainer:r.Z},data(){return{scrollPosition:0,maxScroll:void 0,resizeObserver:void 0}},computed:{leftVisible(){return this.scrollPosition>0},rightVisible(){return this.scrollPosition<this.maxScroll}},mounted(){this.resizeObserver=new ResizeObserver(this.sizeChanged),this.resizeObserver.observe(this.$refs.carousel)},beforeUnmount(){this.resizeObserver.disconnect()},methods:{sizeChanged(){this.maxScroll=this.$refs.carousel.scrollWidth-this.$refs.carousel.offsetWidth},scroll(s){this.scrollPosition=s.target.scrollLeft},shift(s){this.scrollPosition+=138*s*2,this.scrollPosition=Math.max(0,this.scrollPosition),this.scrollPosition=Math.min(this.scrollPosition,this.maxScroll),this.$refs.carousel.scroll(this.scrollPosition,0)}}},c=t(89);const u=(0,c.Z)(a,[["render",i],["__scopeId","data-v-5e71dbd4"]]);var p=u},5672:function(s,e,t){t.r(e),t.d(e,{default:function(){return N}});var n=t(3396),l=t(9242),o=t(7139);const i={class:"content row"},r={class:"column column-main"},a={class:"column-side"},c=(0,n._)("span",{class:"icon-text"},[(0,n._)("span",{class:"bi bi-people-fill"}),(0,n._)("span",null,"Artists you should follow")],-1),u=(0,n._)("span",{class:"bi bi-arrow-repeat"},null,-1),p=(0,n._)("span",null,"Refresh",-1),d=[u,p],h={class:"icon-text"},m=(0,n._)("span",{class:"bi bi-suit-heart-fill"},null,-1),g=(0,n._)("span",{class:"icon-text"},[(0,n._)("span",{class:"bi bi-clock-history"}),(0,n._)("span",null,"Listening history")],-1),y={class:"project-info",key:"projectInfo"},b=(0,n._)("p",null,[(0,n._)("span",null,"About website"),(0,n._)("br"),(0,n.Uk)(" Non-commercial project created solely for demonstration purposes. I do not own the copyrights to the posted content. ")],-1),w=(0,n._)("p",null,[(0,n._)("span",null,"Technologies used"),(0,n._)("br"),(0,n.Uk)(" Frontend: HTML, CSS (PostCSS), Vue.js, Axios;"),(0,n._)("br"),(0,n.Uk)(" Backend: Express.js, MySQL, REST API, Multer, JSON Web Token. ")],-1),f=(0,n._)("p",{style:{"white-space":"nowrap"}},[(0,n.Uk)("Created by "),(0,n._)("a",{href:"https://github.com/sleeping-slopes",class:"accent-text alink",target:"”_blank”",rel:"noopener noreferrer"},"@sleeping-slopes")],-1),k=(0,n._)("p",{style:{"white-space":"nowrap"}},[(0,n._)("span",{class:"accent-text"},"Language: "),(0,n.Uk)("English (US)")],-1),_=[b,w,f,k];function v(s,e,t,u,p,b){const w=(0,n.up)("playlistContainer"),f=(0,n.up)("carousel"),k=(0,n.up)("panel"),v=(0,n.up)("songContainer"),C=(0,n.up)("userContainer"),P=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n._)("div",r,[(0,n.Wm)(k,null,{header:(0,n.w5)((()=>[(0,n.Uk)("All playlists")])),content:(0,n.w5)((()=>[(0,n.Wm)(f,null,{content:(0,n.w5)((()=>[(0,n.Wm)(w,{type:"row gap-10",playlists:this.playlists,dynamicComponent:"playlistCarouselCard"},null,8,["playlists"])])),_:1})])),_:1}),(0,n.Wm)(k,null,{header:(0,n.w5)((()=>[(0,n.Uk)("All songs")])),content:(0,n.w5)((()=>[(0,n.Wm)(v,{type:"ul-list",dynamicComponent:"songExtended",playlist:p.playlist},null,8,["playlist"])])),_:1})]),(0,n._)("div",a,[(0,n.Wm)(l.W3,{name:"panelFade",tag:"div",class:"column",style:{position:"sticky",top:"5px"}},{default:(0,n.w5)((()=>[this.$store.getters.getCurrentUser?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[((0,n.wg)(),(0,n.j4)(k,{style:{height:"238px",width:"100%"},key:"recommendedUsersPanel"},{header:(0,n.w5)((()=>[c])),menu:(0,n.w5)((()=>[(0,n._)("button",{class:"button button-secondary icon-text",onClick:e[0]||(e[0]=s=>this.refreshRecommendations())},d)])),content:(0,n.w5)((()=>[((0,n.wg)(),(0,n.j4)(C,{type:"ul-list",dynamicComponent:"userItemSmall",users:this.recommendedUsers,key:p.userContainerKey},null,8,["users"]))])),_:1})),this.songLikesPlaylist?.songs?.length?((0,n.wg)(),(0,n.j4)(k,{key:"songLikesPanel"},{header:(0,n.w5)((()=>[(0,n._)("span",h,[m,(0,n._)("span",null,(0,o.zw)(b.abbreviateNumber(this.songLikesPlaylist.songs.length))+" like"+(0,o.zw)(1==this.songLikesPlaylist.songs.length?"":"s"),1)])])),menu:(0,n.w5)((()=>[(0,n.Wm)(P,{to:{name:"UserLikes",params:{login:this.$store.getters.getCurrentUser.login}},class:"button button-secondary"},{default:(0,n.w5)((()=>[(0,n.Uk)("View all")])),_:1},8,["to"])])),content:(0,n.w5)((()=>[(0,n.Wm)(v,{type:"ul-list",dynamicComponent:"songExtended",playlist:p.songLikesPlaylist,"max-display":"3"},null,8,["playlist"])])),_:1})):(0,n.kq)("",!0),this.historyPlaylist?.songs?.length?((0,n.wg)(),(0,n.j4)(k,{key:"historyPlaylistPanel"},{header:(0,n.w5)((()=>[g])),menu:(0,n.w5)((()=>[(0,n.Wm)(P,{to:{name:"YourHistory"},class:"button button-secondary"},{default:(0,n.w5)((()=>[(0,n.Uk)("View all")])),_:1})])),content:(0,n.w5)((()=>[(0,n.Wm)(v,{type:"ul-list",dynamicComponent:"songExtended",playlist:p.historyPlaylist,"max-display":"3"},null,8,["playlist"])])),_:1})):(0,n.kq)("",!0)],64)):(0,n.kq)("",!0),((0,n.wg)(),(0,n.iD)("article",y,_))])),_:1})])])}var C=t(3278),P=t(1417),x=t(306),S=t(3818),U=t(5834),L=t(9419),W=t(7285),Z={name:"DiscoverView",components:{panel:P.Z,carousel:x.Z,songContainer:S.Z,playlistContainer:U.Z,userContainer:L.Z},data(){return{playlists:void 0,playlist:void 0,recommendedUsers:void 0,userContainerKey:Date.now(),songLikesPlaylist:void 0,historyPlaylist:{id:"[]RENAME",songs:JSON.parse(JSON.stringify(this.$store.getters.getSongHistory)),...JSON.parse(JSON.stringify(this.$store.getters.getSongHistory)).length<1&&{error:{status:404,message:"No HISTORY songs"}}}}},methods:{async refreshRecommendations(){this.recommendedUsers=void 0,this.recommendedUsers=await C.Z.get("me/recommendations"),this.userContainerKey=Date.now()},abbreviateNumber:W.dm},async created(){this.playlists=await C.Z.get("playlists"),this.playlist=(await C.Z.get("songs")).songList},watch:{"$store.getters.getCurrentUser":{handler:async function(s){s&&(this.recommendedUsers=await C.Z.get("me/recommendations"),this.songLikesPlaylist=(await C.Z.get("users/"+s.login+"/songs/likes")).songList)},immediate:!0}}},j=t(89);const O=(0,j.Z)(Z,[["render",v]]);var N=O}}]);
//# sourceMappingURL=672.c9ed16b5.js.map